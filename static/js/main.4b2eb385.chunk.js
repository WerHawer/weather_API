(this.webpackJsonpjuju_test=this.webpackJsonpjuju_test||[]).push([[0],{15:function(e,t,a){e.exports={button:"CityBtn_button__POy48",active:"CityBtn_active__2CGZd CityBtn_button__POy48",ldsDualRing:"CityBtn_ldsDualRing__3Ihf3","lds-dual-ring":"CityBtn_lds-dual-ring__32xiM"}},16:function(e,t,a){e.exports={buttonsBlock:"Navigation_buttonsBlock__iugGG",buttonsCover:"Navigation_buttonsCover__1CW2Q",buttonsNotCover:"Navigation_buttonsNotCover__2n5-0 Navigation_buttonsCover__1CW2Q"}},18:function(e,t,a){e.exports={enter:"opacity_enter__gDkmR",enterActive:"opacity_enterActive__1PzRQ",exit:"opacity_exit__b7r3_",exitActive:"opacity_exitActive__13AyE"}},2:function(e,t,a){e.exports={container:"FiveDaysWeather_container__XiEP5",details:"FiveDaysWeather_details__3oco0",oneDayContainer:"FiveDaysWeather_oneDayContainer__29wFk",imgContainer:"FiveDaysWeather_imgContainer__1uk9n",button:"FiveDaysWeather_button__Dnd4T",active:"FiveDaysWeather_active__2yhzO FiveDaysWeather_button__Dnd4T",date:"FiveDaysWeather_date__3AW_m",temperature:"FiveDaysWeather_temperature__v8J7m"}},29:function(e,t,a){e.exports={enter:"slide_enter__3QQ8t",enterActive:"slide_enterActive__34kvd",exit:"slide_exit__1JWfj",exitActive:"slide_exitActive__2RQDc"}},33:function(e,t,a){e.exports=a(68)},38:function(e,t,a){},39:function(e,t,a){},4:function(e,t,a){e.exports={list:"WeatherInfo_list__26Ck2",element:"WeatherInfo_element__tl5uw",elementName:"WeatherInfo_elementName__3cIwq",cityName:"WeatherInfo_cityName__1XjvP WeatherInfo_element__tl5uw"}},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),o=(a(38),a(39),a(1)),s=a.n(o),l=a(5),u=a(10),m=a(11),d=a(12),p=a(13),h=a(14),v=a.n(h),_={BASE_URL:"https://api.openweathermap.org/data/2.5/",key:"c2dcf8ffb5cdc3f8977bfd2ae7ea4738",temperatureFormatC:"&units=metric",getWeather:function(e){var t=this;return Object(l.a)(s.a.mark((function a(){var n,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="".concat(t.BASE_URL,"find?q=").concat(e).concat(t.temperatureFormatC,"&appid=").concat(t.key),a.next=4,v.a.get(n);case 4:return r=a.sent,a.abrupt("return",r.data.list[0]);case 8:a.prev=8,a.t0=a.catch(0),alert(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getFiveDaysWeather:function(e){var t=this;return Object(l.a)(s.a.mark((function a(){var n,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="".concat(t.BASE_URL,"forecast?q=").concat(e).concat(t.temperatureFormatC,"&appid=").concat(t.key),a.next=4,v.a.get(n);case 4:return r=a.sent,a.abrupt("return",r.data);case 8:a.prev=8,a.t0=a.catch(0),alert(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getWeatherByPosition:function(e){var t=this;return Object(l.a)(s.a.mark((function a(){var n,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="".concat(t.BASE_URL,"weather?lat=").concat(e.lat,"&lon=").concat(e.lon).concat(t.temperatureFormatC,"&appid=").concat(t.key),a.next=4,v.a.get(n);case 4:return r=a.sent,a.abrupt("return",r.data);case 8:a.prev=8,a.t0=a.catch(0),alert("leelel");case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()}},f=a(15),y=a.n(f),g=function(e){var t=e.name,a=e.onClick,n=e.isLoading,i=e.choosenCity;return r.a.createElement("button",{type:"button",onClick:a,name:t,disabled:n,className:i===t?y.a.active:y.a.button},n?r.a.createElement("div",{className:y.a.ldsDualRing}):t)},E=a(6),D=a.n(E),b=[{id:D.a.generate(),name:"Kyiv"},{id:D.a.generate(),name:"London"},{id:D.a.generate(),name:"New York"}],C=a(16),N=a.n(C),w=function(e){var t=e.onClick,a=e.isLoading,n=e.choosenCity;return r.a.createElement("div",{className:N.a.buttonsBlock},r.a.createElement("div",{className:a?N.a.buttonsCover:N.a.buttonsNotCover}),b.map((function(e){return r.a.createElement(g,{name:e.name,onClick:t,key:e.id,isLoading:a,choosenCity:n})})))},x=a(4),W=a.n(x),k=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("ul",{className:W.a.list},r.a.createElement("li",{className:W.a.cityName},t.name),r.a.createElement("li",{className:W.a.element},r.a.createElement("span",{className:W.a.elementName},"Temperature"),r.a.createElement("span",null,Math.floor(t.main.temp)," \xb0\u0421")),r.a.createElement("li",{className:W.a.element},r.a.createElement("span",{className:W.a.elementName}," Atmospheric pressure"),r.a.createElement("span",null,t.main.pressure," hPa")),r.a.createElement("li",{className:W.a.element},r.a.createElement("span",{className:W.a.elementName},"Humidity"),r.a.createElement("span",null,t.main.humidity," %")),r.a.createElement("li",{className:W.a.element},r.a.createElement("span",{className:W.a.elementName},"Wind speed "),r.a.createElement("span",null,t.wind.speed," meter/sec")),r.a.createElement("li",{className:W.a.element},r.a.createElement("span",{className:W.a.elementName},"Wind direction"),r.a.createElement("span",null,t.wind.deg?t.wind.deg:"90"," \xb0"))))},F=a(30),B=a(17),O=a(2),j=a.n(O),A=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],T=function(e){var t=function(e){return e.padStart(2,"0")},a=t(String(new Date(e).getHours())),n=t(String(new Date(e).getHours()));return"".concat(a,":").concat(n)},P=a(69),S=a(18),L=a.n(S),M=function(e){if(e){var t=e.list.reduce((function(e,t){var a={D:new Date(t.dt_txt).getDate(),M:new Date(t.dt_txt).getMonth(),Y:new Date(t.dt_txt).getFullYear(),minT:Math.floor(t.main.temp_min),maxT:Math.floor(t.main.temp_max),id:D.a.generate(),icon:t.weather[0].icon};return[].concat(Object(B.a)(e),[a])}),[]);return t=[].concat(Object(B.a)(t),[{}]),t}},I=function(e){if(e){var t=[];return e.reduce((function(e,a){if(e.D===a.D){var n=e.minT<a.minT?e.minT:a.minT,r=e.maxT>a.maxT?e.maxT:a.maxT,i=e.icon.replace("n","d");return Object(F.a)({},e,{minT:n,maxT:r,icon:i})}return t=[].concat(Object(B.a)(t),[e]),a})),t}},R=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={detailedDayInfo:"",choosen:"",oneDayFiltered:null},e.handleClickDetails=function(t,a){var n=t.target.id,r=e.props.fiveDaysWeather.list.filter((function(e){var t=new Date(e.dt_txt).getDate(),n=new Date(e.dt_txt).getMonth(),r=a.D,i=a.M;return t===r&&n===i}));e.setState({detailedDayInfo:r,choosen:n})},e.handleClickHide=function(){e.setState({choosen:""}),setTimeout((function(){e.setState({detailedDayInfo:""})}),500)},e.fiveDaysWeatherForecastBuilder=function(t){var a=M(t),n=I(a);e.setState({oneDayFiltered:n})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fiveDaysWeatherForecastBuilder(this.props.fiveDaysWeather)}},{key:"componentDidUpdate",value:function(e,t){e.fiveDaysWeather!==this.props.fiveDaysWeather&&this.fiveDaysWeatherForecastBuilder(this.props.fiveDaysWeather)}},{key:"render",value:function(){var e=this,t=this.state,a=t.detailedDayInfo,n=t.choosen,i=t.oneDayFiltered;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{in:!!i,timeout:500,classNames:L.a,unmountOnExit:!0},r.a.createElement("ul",{className:j.a.container},i&&i.map((function(t){return r.a.createElement("li",{key:t.id,className:j.a.oneDayContainer},r.a.createElement("p",{className:j.a.date}," ".concat(t.D," ").concat(A[t.M])),r.a.createElement("div",{className:j.a.imgContainer},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(t.icon,".png"),alt:"weather"})),r.a.createElement("p",null,"".concat(t.minT," - ").concat(t.maxT," \xb0C")),r.a.createElement("button",{className:n===t.id?j.a.active:j.a.button,type:"button",id:t.id,onClick:function(a){return e.handleClickDetails(a,t)}},"Day details"))})))),r.a.createElement(P.a,{in:!!n,timeout:500,unmountOnExit:!0,classNames:L.a},r.a.createElement("div",{className:j.a.details},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:j.a.container},a.map((function(e){return r.a.createElement("div",{key:e.dt_txt},r.a.createElement("p",{className:j.a.date},T(e.dt_txt)),r.a.createElement("div",{className:j.a.weather},r.a.createElement("div",{className:j.a.imgContainer},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png"),alt:"weather"})),r.a.createElement("p",{className:j.a.temperature},"".concat(Math.floor(e.main.temp)," \xb0C"))))}))),r.a.createElement("button",{type:"button",onClick:this.handleClickHide,className:j.a.button},"Hide")))))}}]),a}(n.Component),H=new Promise((function(e,t){var a={};navigator.geolocation.getCurrentPosition((function(t){a.lat=t.coords.latitude,a.lon=t.coords.longitude,e(a)}))})),J=a(7),U=a.n(J),Q=a(29),q=a.n(Q),G=function(e){var t=e.data;return r.a.createElement(P.a,{in:!!t,timeout:500,unmountOnExit:!0,classNames:q.a},r.a.createElement("div",{className:U.a.container},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:U.a.city},t.name),r.a.createElement("p",{className:U.a.city},"(weather by your position)"),r.a.createElement("div",{className:U.a.weather},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png"),alt:"weather"}),r.a.createElement("div",null,r.a.createElement("p",{className:U.a.temperature}," ",Math.floor(t.main.temp)," \xb0C"),r.a.createElement("p",null,t.weather[0].description))))))},Y=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={choosenCity:"Kyiv",isLoading:!1,data:"",dataByPosition:"",fiveDaysWeather:null,coords:null},e.handleClickOnCityBtn=function(){var t=Object(l.a)(s.a.mark((function t(a){var n,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.name,e.setState({isLoading:!0,choosenCity:n,data:null,fiveDaysWeather:null}),t.next=4,_.getWeather(n);case 4:return r=t.sent,t.next=7,_.getFiveDaysWeather(n);case 7:i=t.sent,e.setState({isLoading:!1,data:r,fiveDaysWeather:i});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),t=this.state.choosenCity,e.next=4,_.getWeather(t);case 4:return a=e.sent,e.next=7,_.getFiveDaysWeather(t);case 7:n=e.sent,H.then((function(e){return r.setState({coords:e})})),this.setState({data:a,fiveDaysWeather:n,isLoading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(s.a.mark((function e(t,a){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.coords,n.dataByPosition,a.coords===this.state.coords){e.next=6;break}return e.next=4,_.getWeatherByPosition(r);case 4:i=e.sent,this.setState({dataByPosition:i});case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.choosenCity,n=e.data,i=e.fiveDaysWeather,c=e.dataByPosition;return r.a.createElement("div",{className:"wrapper"},r.a.createElement(G,{data:c}),r.a.createElement(w,{isLoading:t,choosenCity:a,onClick:this.handleClickOnCityBtn}),r.a.createElement(k,{data:n}),i&&r.a.createElement(R,{fiveDaysWeather:i}))}}]),a}(n.Component);c.a.render(r.a.createElement(Y,null),document.getElementById("root"))},7:function(e,t,a){e.exports={container:"WeatherByPosition_container__FHf0n",city:"WeatherByPosition_city__1TkWw",weather:"WeatherByPosition_weather__UbHmf",temperature:"WeatherByPosition_temperature__1od6J"}}},[[33,1,2]]]);
//# sourceMappingURL=main.4b2eb385.chunk.js.map