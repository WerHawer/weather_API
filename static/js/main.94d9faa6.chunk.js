(this.webpackJsonpjuju_test=this.webpackJsonpjuju_test||[]).push([[0],{1:function(e,t,a){e.exports={container:"FiveDaysWeather_container__XiEP5",details:"FiveDaysWeather_details__3oco0",oneDayContainer:"FiveDaysWeather_oneDayContainer__29wFk",imgContainer:"FiveDaysWeather_imgContainer__1uk9n",button:"FiveDaysWeather_button__Dnd4T",active:"FiveDaysWeather_active__2yhzO FiveDaysWeather_button__Dnd4T",date:"FiveDaysWeather_date__3AW_m",oneDetailed:"FiveDaysWeather_oneDetailed__hQ-nY",temperature:"FiveDaysWeather_temperature__v8J7m",buttonHide:"FiveDaysWeather_buttonHide__7iBwD FiveDaysWeather_button__Dnd4T"}},14:function(e,t,a){e.exports={enter:"slide_enter__3QQ8t",enterActive:"slide_enterActive__34kvd",exit:"slide_exit__1JWfj",exitActive:"slide_exitActive__2RQDc"}},18:function(e,t,a){e.exports={buttonsBlock:"Navigation_buttonsBlock__iugGG",buttonsCover:"Navigation_buttonsCover__1CW2Q",buttonsNotCover:"Navigation_buttonsNotCover__2n5-0 Navigation_buttonsCover__1CW2Q"}},19:function(e,t,a){e.exports={form:"AddForm_form__3wZul",input:"AddForm_input__3ir8I"}},20:function(e,t,a){e.exports={enter:"opacity_enter__gDkmR",enterActive:"opacity_enterActive__1PzRQ",exit:"opacity_exit__b7r3_",exitActive:"opacity_exitActive__13AyE"}},34:function(e,t,a){e.exports=a(70)},39:function(e,t,a){},4:function(e,t,a){e.exports={list:"WeatherInfo_list__26Ck2",element:"WeatherInfo_element__tl5uw",elementName:"WeatherInfo_elementName__3cIwq",cityName:"WeatherInfo_cityName__1XjvP WeatherInfo_element__tl5uw"}},40:function(e,t,a){},6:function(e,t,a){e.exports={container:"WeatherByPosition_container__FHf0n",city:"WeatherByPosition_city__1TkWw",byPosition:"WeatherByPosition_byPosition__T6UIw",weather:"WeatherByPosition_weather__UbHmf",temperature:"WeatherByPosition_temperature__1od6J"}},67:function(e,t,a){e.exports=a.p+"static/media/delete.7d7ad334.png"},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),c=a.n(i),o=(a(39),a(40),a(7)),s=a(2),l=a.n(s),u=a(5),m=a(12),d=a(13),p=a(15),_=a(16),h=a(9),v=a.n(h),f=a(17),y=a.n(f),g={BASE_URL:"https://api.openweathermap.org/data/2.5/",key:"c2dcf8ffb5cdc3f8977bfd2ae7ea4738",temperatureFormatC:"&units=metric",getWeather:function(e){var t=this;return Object(u.a)(l.a.mark((function a(){var n,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="".concat(t.BASE_URL,"find?q=").concat(e).concat(t.temperatureFormatC,"&appid=").concat(t.key),a.next=4,y.a.get(n);case 4:return r=a.sent,a.abrupt("return",r.data.list[0]);case 8:a.prev=8,a.t0=a.catch(0),alert(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getFiveDaysWeather:function(e){var t=this;return Object(u.a)(l.a.mark((function a(){var n,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="".concat(t.BASE_URL,"forecast?q=").concat(e).concat(t.temperatureFormatC,"&appid=").concat(t.key),a.next=4,y.a.get(n);case 4:return r=a.sent,a.abrupt("return",r.data);case 8:a.prev=8,a.t0=a.catch(0),alert(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getWeatherByPosition:function(e){var t=this;return Object(u.a)(l.a.mark((function a(){var n,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="".concat(t.BASE_URL,"weather?lat=").concat(e.lat,"&lon=").concat(e.lon).concat(t.temperatureFormatC,"&appid=").concat(t.key),a.next=4,y.a.get(n);case 4:return r=a.sent,a.abrupt("return",r.data);case 8:a.prev=8,a.t0=a.catch(0),alert("leelel");case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()}},D=new Promise((function(e,t){var a={};navigator.geolocation.getCurrentPosition((function(t){a.lat=t.coords.latitude,a.lon=t.coords.longitude,e(a)}))})),E=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(a){console.error("Get state error: ",a)}},C=function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(n){console.error("Set state error: ",n)}},b=a(8),N=a.n(b),w=function(e){var t=e.name,n=e.id,i=e.onClick,c=e.isLoading,o=e.choosenCity,s=e.onDelete;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:i,name:t,disabled:c,className:o===t?N.a.active:N.a.button},c?r.a.createElement("div",{className:N.a.ldsDualRing}):t,r.a.createElement("div",{className:"add City"===t?N.a.del_none:N.a.del,onClick:s},r.a.createElement("img",{src:a(67),alt:"del",id:n}))))},x=a(18),W=a.n(x),k=a(19),F=a.n(k),S=function(e){var t=e.onSubmit;return r.a.createElement("form",{className:F.a.form,onSubmit:t},r.a.createElement("input",{type:"text",placeholder:"city name",className:F.a.input,name:"input",autoFocus:!0}))},B=a(71),O=a(14),A=a.n(O),j=function(e){var t=e.onClick,a=e.isLoading,n=e.choosenCity,i=e.cities,c=e.addForm,o=e.onAddCityClick,s=e.onSubmit,l=e.onDelete;return r.a.createElement("div",{className:W.a.buttonsBlock},r.a.createElement(B.a,{in:c,timeout:500,unmountOnExit:!0,classNames:A.a},r.a.createElement(S,{onSubmit:s})),r.a.createElement("div",{className:a?W.a.buttonsCover:W.a.buttonsNotCover}),i.map((function(e){return r.a.createElement(w,{name:e.name,id:e.id,onClick:t,key:e.id,isLoading:a,choosenCity:n,onDelete:l})})),r.a.createElement(w,{name:"add City",onClick:o}))},P=a(4),T=a.n(P),I=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("ul",{className:T.a.list},r.a.createElement("li",{className:T.a.cityName},t.name),r.a.createElement("li",{className:T.a.element},r.a.createElement("span",{className:T.a.elementName},"Temperature"),r.a.createElement("span",null,Math.floor(t.main.temp)," \xb0\u0421")),r.a.createElement("li",{className:T.a.element},r.a.createElement("span",{className:T.a.elementName}," Atmospheric pressure"),r.a.createElement("span",null,t.main.pressure," hPa")),r.a.createElement("li",{className:T.a.element},r.a.createElement("span",{className:T.a.elementName},"Humidity"),r.a.createElement("span",null,t.main.humidity," %")),r.a.createElement("li",{className:T.a.element},r.a.createElement("span",{className:T.a.elementName},"Wind speed "),r.a.createElement("span",null,t.wind.speed," meter/sec")),r.a.createElement("li",{className:T.a.element},r.a.createElement("span",{className:T.a.elementName},"Wind direction"),r.a.createElement("span",null,t.wind.deg?t.wind.deg:"90"," \xb0"))))},M=a(32),L=a(1),H=a.n(L),J=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],R=function(e){var t=function(e){return e.padStart(2,"0")},a=t(String(new Date(e).getHours())),n=t(String(new Date(e).getHours()));return"".concat(a,":").concat(n)},U=a(20),Q=a.n(U),G=function(e){if(e){var t=e.list.reduce((function(e,t){var a={D:new Date(t.dt_txt).getDate(),M:new Date(t.dt_txt).getMonth(),Y:new Date(t.dt_txt).getFullYear(),minT:Math.floor(t.main.temp_min),maxT:Math.floor(t.main.temp_max),id:v.a.generate(),icon:t.weather[0].icon};return[].concat(Object(o.a)(e),[a])}),[]);return t=[].concat(Object(o.a)(t),[{}]),t}},q=function(e){if(e){var t=new Date(Date.now()).getDate(),a=[];return e.reduce((function(e,n){if(e.D===t)return n;if(e.D===n.D){var r=e.minT<n.minT?e.minT:n.minT,i=e.maxT>n.maxT?e.maxT:n.maxT,c=e.icon.replace("n","d");return Object(M.a)({},e,{minT:r,maxT:i,icon:c})}return a=[].concat(Object(o.a)(a),[e]),n})),a}},K=function(e){Object(_.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={detailedDayInfo:"",choosen:"",oneDayFiltered:null},e.handleClickDetails=function(t,a){var n=t.target.id,r=e.props.fiveDaysWeather.list.filter((function(e){var t=new Date(e.dt_txt).getDate(),n=new Date(e.dt_txt).getMonth(),r=a.D,i=a.M;return t===r&&n===i}));e.setState({detailedDayInfo:r,choosen:n})},e.handleClickHide=function(){e.setState({choosen:""}),setTimeout((function(){e.setState({detailedDayInfo:""})}),500)},e.fiveDaysWeatherForecastBuilder=function(t){var a=G(t),n=q(a);e.setState({oneDayFiltered:n})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fiveDaysWeatherForecastBuilder(this.props.fiveDaysWeather)}},{key:"componentDidUpdate",value:function(e,t){e.fiveDaysWeather!==this.props.fiveDaysWeather&&this.fiveDaysWeatherForecastBuilder(this.props.fiveDaysWeather)}},{key:"render",value:function(){var e=this,t=this.state,a=t.detailedDayInfo,n=t.choosen,i=t.oneDayFiltered;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{in:!!i,timeout:500,classNames:Q.a,unmountOnExit:!0},r.a.createElement("ul",{className:H.a.container},i&&i.map((function(t){return r.a.createElement("li",{key:t.id,className:H.a.oneDayContainer},r.a.createElement("p",{className:H.a.date}," ".concat(t.D," ").concat(J[t.M])),r.a.createElement("div",{className:H.a.imgContainer},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(t.icon,".png"),alt:"weather"})),r.a.createElement("p",null,"".concat(t.minT," - ").concat(t.maxT," \xb0C")),r.a.createElement("button",{className:n===t.id?H.a.active:H.a.button,type:"button",id:t.id,onClick:function(a){return e.handleClickDetails(a,t)}},"Day details"))})))),r.a.createElement(B.a,{in:!!n,timeout:500,unmountOnExit:!0,classNames:Q.a},r.a.createElement("div",{className:H.a.details},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:H.a.container},a.map((function(e){return r.a.createElement("div",{key:e.dt_txt,className:H.a.oneDetailed},r.a.createElement("p",{className:H.a.date},R(e.dt_txt)),r.a.createElement("div",{className:H.a.weather},r.a.createElement("div",{className:H.a.imgContainer},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png"),alt:"weather"})),r.a.createElement("p",{className:H.a.temperature},"".concat(Math.floor(e.main.temp)," \xb0C"))))}))),r.a.createElement("button",{type:"button",onClick:this.handleClickHide,className:H.a.buttonHide},"Hide")))))}}]),a}(n.Component),Y=a(6),z=a.n(Y),X=function(e){var t=e.data;return r.a.createElement(B.a,{in:!!t,timeout:500,unmountOnExit:!0,classNames:A.a},r.a.createElement("div",{className:z.a.container},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:z.a.city},t.name),r.a.createElement("p",{className:z.a.byPosition},"(weather by your position)"),r.a.createElement("div",{className:z.a.weather},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,".png"),alt:"weather"}),r.a.createElement("div",null,r.a.createElement("p",{className:z.a.temperature}," ",Math.floor(t.main.temp)," \xb0C"),r.a.createElement("p",{className:z.a.temperature},t.weather[0].description))))))},Z=function(e){Object(_.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={cities:[{id:v.a.generate(),name:"Kyiv"}],addForm:!1,choosenCity:"Kyiv",isLoading:!1,data:"",dataByPosition:"",fiveDaysWeather:null,coords:null},e.handleClickOnCityBtn=function(){var t=Object(u.a)(l.a.mark((function t(a){var n,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.name,e.setState({isLoading:!0,choosenCity:n,data:null,fiveDaysWeather:null}),t.next=4,g.getWeather(n);case 4:return r=t.sent,t.next=7,g.getFiveDaysWeather(n);case 7:i=t.sent,e.setState({isLoading:!1,data:r,fiveDaysWeather:i});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onAddCityClick=function(){e.setState({addForm:!0})},e.onSubmitAddCity=function(t){if(t.preventDefault(),t.target.elements.input.value){var a={name:t.target.elements.input.value,id:v.a.generate()};e.setState({addForm:!1,cities:[].concat(Object(o.a)(e.state.cities),[a])})}else e.setState({addForm:!1})},e.onDeleteCity=function(t){var a=t.target;t.stopPropagation(),e.setState({cities:e.state.cities.filter((function(e){return e.id!==a.id}))})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r,i=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),t=this.state.choosenCity,e.next=4,g.getWeather(t);case 4:return a=e.sent,e.next=7,g.getFiveDaysWeather(t);case 7:n=e.sent,D.then((function(e){return i.setState({coords:e})})),(r=E("cities"))&&this.setState({cities:r}),this.setState({data:a,fiveDaysWeather:n,isLoading:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.coords,i=n.cities,a.coords===r){e.next=6;break}return e.next=4,g.getWeatherByPosition(r);case 4:c=e.sent,this.setState({dataByPosition:c});case 6:a.cities!==i&&C("cities",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.choosenCity,n=e.data,i=e.fiveDaysWeather,c=e.dataByPosition,o=e.cities,s=e.addForm;return r.a.createElement("div",{className:"wrapper"},r.a.createElement(X,{data:c}),r.a.createElement(j,{onDelete:this.onDeleteCity,onAddCityClick:this.onAddCityClick,addForm:s,cities:o,isLoading:t,choosenCity:a,onClick:this.handleClickOnCityBtn,onSubmit:this.onSubmitAddCity}),r.a.createElement(I,{data:n}),i&&r.a.createElement(K,{fiveDaysWeather:i}))}}]),a}(n.Component);c.a.render(r.a.createElement(Z,null),document.getElementById("root"))},8:function(e,t,a){e.exports={button:"CityBtn_button__POy48",active:"CityBtn_active__2CGZd CityBtn_button__POy48",ldsDualRing:"CityBtn_ldsDualRing__3Ihf3","lds-dual-ring":"CityBtn_lds-dual-ring__32xiM",del:"CityBtn_del__3ge7K",del_none:"CityBtn_del_none__jANqG"}}},[[34,1,2]]]);
//# sourceMappingURL=main.94d9faa6.chunk.js.map